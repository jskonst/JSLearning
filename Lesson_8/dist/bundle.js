!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.target.closest("td");if(t){var n=(t.classList,+t.dataset.row),r=+t.dataset.column,i=!1,s=!1,a=void 0;if(v.forEach(function(e,o){e.positions.forEach(function(u,c){t.classList.contains("damaged")||t.classList.contains("missed")||(s=!0,u[0]===n&&u[1]===r&&(i=!0,v[o].positions.splice(c,1),v[o].positions.length||(v.splice(o,1),a=e.ship)))})}),s){u.default.emit("statsChanged",++b);var o=document.createElement("i");o.classList.add("fa","fa-times"),i?(t.classList.add("damaged"),t.appendChild(o),a&&u.default.emit("shipDestroyed",a)):(t.classList.add("missed"),t.appendChild(o))}if(!v.length){document.querySelector(".result-text").innerHTML="Вы потопили все корабли за "+b+" шагов!!!"}}}var s=n(1),a=r(s);n(2);var o=n(3),u=r(o),c=n(4),l=r(c),d=n(5),p=r(d),f=n(6),h=r(f);console.log(a.default.shipTypes);var v=a.default.layout,y=a.default.size,m=a.default.shipTypes,b=0,g=document.querySelector("#battleArea"),w=document.querySelector("#stepsCounter"),S=document.querySelector("#shipsArea"),k=(document.querySelector("#resultText"),new l.default(w)),x=new p.default(y,g),E=new h.default(m,S);k.render(),E.drawShips(),x.drawBattleArea(),document.querySelector("table").addEventListener("click",i),u.default.on("statsChanged",k.setSteps.bind(k)),u.default.on("shipDestroyed",E.markDestroyedShip.bind(E))},function(e,t){e.exports={shipTypes:{carrier:{size:5,count:1},battleship:{size:4,count:1},cruiser:{size:3,count:1},submarine:{size:3,count:1},destroyer:{size:2,count:1}},layout:[{ship:"carrier",positions:[[2,9],[3,9],[4,9],[5,9],[6,9]]},{ship:"battleship",positions:[[5,2],[5,3],[5,4],[5,5]]},{ship:"cruiser",positions:[[8,1],[8,2],[8,3]]},{ship:"submarine",positions:[[3,0],[3,1],[3,2]]},{ship:"destroyer",positions:[[0,0],[1,0]]}],size:10}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={events:{},on:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},emit:function(e,t){var n=this.events[e];n&&n.length&&n.forEach(function(e){return e(t)})},off:function(e,t){if(this.events[e])for(var n=0;n<this.events[e].length;n++)if(this.events[e][n]===t){this.events[e].splice(n,1);break}}};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.steps=0,this.counterArea=t}return i(e,[{key:"render",value:function(){this.counterArea.innerHTML=this.steps}},{key:"setSteps",value:function(e){this.steps=e,this.render()}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){r(this,e),this.size=t,this.battleArea=n}return i(e,[{key:"drawBattleSquare",value:function(){var e=document.createElement("td");return e.classList.add("square"),e}},{key:"drawBattleArea",value:function(){for(var e=document.createElement("table"),t=0;t<this.size;t++){for(var n=document.createElement("tr"),r=0;r<this.size;r++){var i=this.drawBattleSquare();i.dataset.row=t,i.dataset.column=r,n.appendChild(i)}e.appendChild(n)}this.battleArea.appendChild(e)}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){r(this,e),this.shipTypes=t,this.shipsArea=n}return i(e,[{key:"drawShips",value:function(){for(var e in this.shipTypes)for(var t=this.shipTypes[e].count,r=e,i=this.shipTypes[e].size,s=0;s<t;s++){for(var a=document.createElement("div"),o=new Image,u=document.createElement("div"),c=0;c<i;c++)u.appendChild(this.drawShipLife());u.classList.add("decks"),a.classList.add(r,"ship"),o.style.width="200px",o.src=n(7)("./"+r+".png"),a.appendChild(o),a.appendChild(u),this.shipsArea.appendChild(a)}}},{key:"drawShipLife",value:function(){var e=document.createElement("span");return e.classList.add("ship-dot","alive"),e}},{key:"markDestroyedShip",value:function(e){var t=this.shipsArea.querySelector("."+e),r=t.querySelectorAll(".alive"),i=document.createElement("audio");i.src=n(13),i.play(),r.forEach(function(e,t){r[t].classList.remove("alive"),r[t].classList.add("destroyed")})}}]),e}();t.default=s},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./battleship.png":8,"./carrier.png":9,"./cruiser.png":10,"./destroyer.png":11,"./submarine.png":12};r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=7},function(e,t,n){e.exports=n.p+"./img/battleship.png"},function(e,t,n){e.exports=n.p+"./img/carrier.png"},function(e,t,n){e.exports=n.p+"./img/cruiser.png"},function(e,t,n){e.exports=n.p+"./img/destroyer.png"},function(e,t,n){e.exports=n.p+"./img/submarine.png"},function(e,t,n){e.exports=n.p+"explosion.mp3"}]);